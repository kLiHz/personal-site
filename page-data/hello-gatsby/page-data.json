{"componentChunkName":"component---src-templates-blog-post-js","path":"/hello-gatsby/","result":{"data":{"site":{"siteMetadata":{"title":"kLiHb's Blog"}},"markdownRemark":{"id":"fe3b1427-a238-56b2-b493-8fb5d8d2ccb2","excerpt":"The very first blog built with Gatsby. ç¯å¢ƒé…ç½® ç¬”è€…é‡‡ç”¨ WSL 2 ä½œä¸ºå¼€å‘ç¯å¢ƒ. å…³äº WSL 2 çš„ä½¿ç”¨æŠ€å·§å¯ä»¥å‚è§ä¸Šä¸€ç¯‡åšå®¢. å®‰è£… nvm å’Œ Node.js é¦–å…ˆéœ€è¦å®‰è£… Node.js ç¯å¢ƒ. è¿™é‡Œå‚ç…§å¾®è½¯çš„æ–‡æ¡£ åœ¨ WSL 2 ä¸Šè®¾ç½® Node.jsâ€¦","html":"<p>The very first blog built with Gatsby.</p>\n<h2>ç¯å¢ƒé…ç½®</h2>\n<p>ç¬”è€…é‡‡ç”¨ WSL 2 ä½œä¸ºå¼€å‘ç¯å¢ƒ. å…³äº WSL 2 çš„ä½¿ç”¨æŠ€å·§å¯ä»¥å‚è§ä¸Šä¸€ç¯‡åšå®¢.</p>\n<h3>å®‰è£… nvm å’Œ Node.js</h3>\n<p>é¦–å…ˆéœ€è¦å®‰è£… <a href=\"https://nodejs.org/\">Node.js</a> ç¯å¢ƒ. è¿™é‡Œå‚ç…§å¾®è½¯çš„æ–‡æ¡£ <a href=\"https://docs.microsoft.com/zh-cn/windows/dev-environment/javascript/nodejs-on-wsl\" title=\"åœ¨ WSL 2 ä¸Šè®¾ç½® Node.js | Microsoft Docs\">åœ¨ WSL 2 ä¸Šè®¾ç½® Node.js</a>, å³å…ˆå®‰è£… <a href=\"https://github.com/nvm-sh/nvm\">nvm</a> ç”¨æ¥ç®¡ç† Node.js çš„ç‰ˆæœ¬, å†é€šè¿‡ nvm å®‰è£… Node.js.</p>\n<p>éœ€è¦æ³¨æ„, å¦‚æœ‰éœ€è¦, è¦å…ˆåœ¨å‘½ä»¤è¡Œç¯å¢ƒè®¾ç½®ä»£ç†, å‚è€ƒ:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"command-line-prompt\"><span data-user=henry data-host=localhost></span><span data-user=henry data-host=localhost></span></span><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">http_proxy</span><span class=\"token operator\">=</span><span class=\"token string\">'http://172.23.112.1:7890'</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">https_proxy</span><span class=\"token operator\">=</span><span class=\"token string\">'http://172.23.112.1:7890'</span></code></pre></div>\n<p>åœ¨å®‰è£…å¥½ nvm å, å¯èƒ½éœ€è¦é‡å¯ bash æ‰èƒ½ä½¿é…ç½®çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ. å¦‚è‹¥é‡å¯, è®°å¾—é‡æ–°é…ç½®ä»£ç†.</p>\n<p>ç¬”è€…é…ç½®æ—¶, ä½¿ç”¨æœ€æ–°çš„ Node.js (18.2.0) ä¼šæœ‰é—®é¢˜, åˆ‡æ¢åˆ° LTS (16.15.0) åˆ™æ²¡æœ‰é—®é¢˜.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"command-line-prompt\"><span data-user=henry data-host=localhost></span></span>nvm <span class=\"token function\">install</span> --lts</code></pre></div>\n<h3>å®‰è£… Gatsby</h3>\n<p>åœ¨ç”¨ npm å®‰è£… Gatsby æ—¶, å¦‚æœæ‰€å¤„çš„ç½‘ç»œæ¡ä»¶æœ‰é—®é¢˜, éœ€è¦è®¾ç½®ä»£ç†, åˆ™ä¼¼ä¹è¿˜éœ€è¦æ˜¾å¼åœ°ä¸º npm è®¾ç½®ä»£ç†:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"command-line-prompt\"><span data-user=henry data-host=localhost></span><span data-user=henry data-host=localhost></span></span><span class=\"token function\">npm</span> config <span class=\"token builtin class-name\">set</span> proxy <span class=\"token string\">'http://172.23.112.1:7890'</span>\n<span class=\"token function\">npm</span> config <span class=\"token builtin class-name\">set</span> strict-ssl <span class=\"token boolean\">false</span></code></pre></div>\n<p>ä¹‹åå† (å…¨å±€) å®‰è£… <code class=\"language-text\">gatsby-cli</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"command-line-prompt\"><span data-user=henry data-host=localhost></span></span><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g gatsby-cli</code></pre></div>\n<h2>æ–°å»ºé¡¹ç›®</h2>\n<p>å¼€å§‹ä¹‹å‰, å»ºè®®å…ˆå‚è€ƒå­¦ä¹  <a href=\"https://www.gatsbyjs.com/docs/tutorial/\" title=\"Tutorial | Gatsby\">Gatsby çš„æ•™ç¨‹</a>.</p>\n<h3>ä½¿ç”¨åšå®¢æ¨¡æ¿</h3>\n<p>ä¸‹é¢çš„å‘½ä»¤ä½¿ç”¨ <code class=\"language-text\">gatsby new</code> å‘½ä»¤, æ ¹æ® Gatsby's blog starter çš„ä»“åº“æ–°å»ºä¸€ä¸ªé¡¹ç›®:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"command-line-prompt\"><span data-user=henry data-host=localhost></span></span>gatsby new gatsby-starter-blog https://github.com/gatsbyjs/gatsby-starter-blog</code></pre></div>\n<p>å¯¹æ¨¡æ¿ä»“åº“çš„ä¿®æ”¹è¿‡ç¨‹å¯å‚è§è¯¥ç½‘ç«™æºä»£ç ä»“åº“çš„æäº¤è®°å½•.</p>\n<h3>æœ¬åœ°é¢„è§ˆ</h3>\n<p>ä¹‹å, è¿›å…¥å¯¹åº”çš„ç›®å½•, å¹¶å¼€å¯ development server (å¼€å‘æœåŠ¡å™¨):</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"command-line-prompt\"><span data-user=henry data-host=localhost></span><span data-user=henry data-host=localhost></span></span><span class=\"token builtin class-name\">cd</span> gatsby-starter-blog\ngatsby develop --host<span class=\"token operator\">=</span><span class=\"token number\">0.0</span>.0.0</code></pre></div>\n<p>è¿½åŠ  <code class=\"language-text\">--host=0.0.0.0</code> å‚æ•°ä½¿å¾— development server ä¾¦å¬æ¥è‡ªç«™å¤–çš„è¯·æ±‚, ä»¥ä¾¿èƒ½å¤Ÿä»ä¸»æœºè®¿é—® WSL 2 ä¸Šçš„ server ç¨‹åº.</p>\n<h2>å‘å¸ƒ</h2>\n<p>ç¬”è€…è®¡åˆ’ä½¿ç”¨ GitHub Pages æ‰˜ç®¡é¡µé¢, è€Œä½¿ç”¨ GitHub Actions å®ç°ç«™ç‚¹çš„è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½², å³ \"æŒç»­é›†æˆ (Continuous Integration)\".</p>\n<h3>åˆ›å»ºåœ¨çº¿ä»“åº“</h3>\n<p>ä¸ºäº†ä½¿ç”¨ GitHub Actions å®ç°è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½², éœ€è¦å°†ä»“åº“ä¸Šä¼ è‡³ GitHub.</p>\n<p>ç¬”è€…è®¡åˆ’å°†è¯¥é¡¹ç›®ç›´æ¥éƒ¨ç½²åˆ° GitHub æä¾›ç»™è´¦æˆ·çš„äºŒçº§åŸŸåä¸‹ (ä¹Ÿè¢«ç§°ä¸ºç”¨æˆ·çš„ä¸ªäººé¡µé¢ä»“åº“), å³ username.github.io, å¯¹åº”çš„ä»“åº“ä¸å…¶åŒå.</p>\n<p>å¦‚æœæ˜¯éƒ¨ç½²åœ¨åŸŸåçš„å­ç›®å½•ä¸‹, ä¹Ÿå°±æ˜¯éƒ¨ç½²ä¸ºè´¦æˆ·ä¸‹æŸä¸€ä»“åº“çš„ Pages, åˆ™éœ€è¦é¢å¤–çš„é…ç½®. å°†åœ¨åé¢ä»‹ç».</p>\n<blockquote>\n<p>å…³äºä¸åŒçš„ GitHub Pages ç±»å‹å¯å‚è€ƒ <a href=\"https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages\">About GitHub Pages - GitHub Docs</a>.</p>\n</blockquote>\n<h3>åˆ›å»º PAT å¹¶æ·»åŠ åˆ°ä»“åº“ secrets</h3>\n<p>ä»“åº“çš„è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²æ˜¯é€šè¿‡ GitHub workflow (å·¥ä½œæµ) å®ç°çš„. éœ€è¦æ³¨æ„çš„æ˜¯, ç”±äºå·¥ä½œæµçš„æ‰§è¡Œæ˜¯åœ¨è¿œç¨‹ä¸»æœºä¸Š, å› æ­¤ä¸ºäº†èƒ½å¤ŸæˆåŠŸéƒ¨ç½²é¡µé¢ (å°†é¡µé¢æ¨é€åˆ°ä»“åº“ä¸­çš„åˆ†æ”¯ä¸Š), è¯¥è„šæœ¬éœ€è¦èƒ½å¤Ÿè®¿é—®å¯¹åº”çš„ GitHub ä»“åº“æ‰è¡Œ, å³éœ€è¦å‘å…¶æä¾›ä¼ é€’ä¸€ä¸ªèƒ½å¤Ÿé‰´æƒçš„å‡­æ®.</p>\n<p>å¯ä»¥å‚ç…§ <a href=\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\" title=\"Creating a personal access token - GitHub Docs\">Creating a personal access token</a> åˆ›å»ºä¸€ä¸ªå…·æœ‰ä»“åº“ (<code class=\"language-text\">repo</code>) è®¿é—®æƒé™çš„ \"ä¸ªäººè®¿é—®å‡­æ® (Personal Access Token)\", å¹¶å°†å…¶æ·»åŠ åˆ°ä»“åº“çš„ \"Secrets\" ä¸­.</p>\n<p>åœ¨æœ¬ä¾‹ä¸­, å³ä¸ºæ·»åŠ ä¸€ä¸ªåä¸º <code class=\"language-text\">ACCESS_TOKEN</code> çš„ secret åˆ°ä»“åº“çš„ Actions secrets ä¸­, å…¶å€¼ä¸ºä¸Šä¸€æ­¥ä¸­åˆ›å»ºçš„ PAT.</p>\n<p>åœ¨ Actions è¿è¡Œæ—¶, ä»“åº“ç”¨äº Actions çš„ç¯å¢ƒå˜é‡å¯†é’¥ (Environment secrets) å’Œä»“åº“è®¿é—®å¯†é’¥ (Repositoy secrets) å°†ä¼šä¼ é€’è¿‡å», ä½¿å¾— Actions èƒ½å¤Ÿå¯¹ä»“åº“è¿›è¡Œä¿®æ”¹.</p>\n<h3>åˆ›å»ºå·¥ä½œæµ</h3>\n<p>ä¹‹å, éœ€è¦ä¸ºä»“åº“æ–°å»ºä¸€ä¸ªè´Ÿè´£æ„å»ºå’Œéƒ¨ç½²çš„å·¥ä½œæµ. åˆ›å»ºå·¥ä½œæµçš„è¿‡ç¨‹å¯ä»¥åœ¨ä»“åº“çš„ GitHub é¡µé¢ä¸Šè¿›è¡Œ. ä¹Ÿå°±æ˜¯åœ¨ä»“åº“çš„æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code class=\"language-text\">.github/workflows/build.yml</code> æ–‡ä»¶ (æ–‡ä»¶åæ— ç‰¹æ®Šè¦æ±‚).</p>\n<p>åœ¨å·¥ä½œæµä¸­, ç¬”è€…è°ƒç”¨äº† <a href=\"https://github.com/enriikke/gatsby-gh-pages-action\" title=\"Gatsby Publish: GitHub Action to build and deploy your Gatsby site to GitHub Pages â¤ï¸ğŸ©\">enriikke/gatsby-gh-pages-action</a> è¿™ä¸€ GitHub Action, å…¶å°†ä¼šåœ¨ä»“åº“æ ¹ç›®å½•ä¸‹æ‰§è¡Œ <code class=\"language-text\">gatsby build</code>, å¹¶å°†å…¶éƒ¨ç½²åˆ° GitHub Pages.</p>\n<!-- ä¸ºäº†æ”¯æŒ `npm` å’Œ `yarn`, è¯¥ GitHub Action éœ€è¦ `package.json` ä¸­å®šä¹‰äº† `build` è„šæœ¬. ä¸è¿‡, ä½¿ç”¨ `gatsby new` åˆ›å»ºé¡¹ç›®æ—¶, Gatsby å°†ä¼šè‡ªåŠ¨å®šä¹‰è¯¥è„šæœ¬ä¸ºè°ƒç”¨ `gatsby build`. -->\n<p>æ–‡ä»¶çš„å†…å®¹ (ä½¿ç”¨æ–¹å¼) ç±»ä¼¼å¦‚ä¸‹:</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token comment\"># å·¥ä½œæµçš„åç§°</span>\n<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Build &amp; Publish\n\n<span class=\"token comment\"># æ§åˆ¶è¯¥å·¥ä½œæµä½•æ—¶è¢«æ‰§è¡Œ</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># ä»…åœ¨ main åˆ†æ”¯ä¸Šå‘ç”Ÿ push æ—¶è¢«è§¦å‘</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> main <span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># ä¸€ä¸ªå·¥ä½œæµç”±å¤šä¸ªå¯ä»¥ä¸²è¡Œæˆ–å¹¶è¡Œçš„å·¥ä½œ (jobs) ç»„æˆ</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># è¯¥å·¥ä½œæµä»…åŒ…å«ä¸€ä¸ªåä¸º \"build\" çš„ job</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># æŒ‡å®šå°†æ‰§è¡Œè¯¥å·¥ä½œçš„æ‰§è¡Œè€…çš„ç±»å‹</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n\n    <span class=\"token comment\"># é˜¶æ®µ (steps) è¡¨ç¤ºè¯¥å·¥ä½œ (job) ä¸‹ä¸€ç³»åˆ—å°†è¢«æ‰§è¡Œçš„ä»»åŠ¡ (tasks)</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># å°†è¯¥ä»“åº“ç­¾å‡º (check out) åœ¨ $GITHUB_WORKSPACE æŒ‡å®šçš„ç›®å½•ä¸‹,</span>\n      <span class=\"token comment\"># ä»¥ä¾¿è¢«å·¥ä½œ (job) è®¿é—®</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      \n      <span class=\"token comment\"># è°ƒç”¨ enriikke/gatsby-gh-pages-action</span>\n      <span class=\"token comment\"># è¿›è¡Œé¡µé¢çš„æ„å»ºå’Œéƒ¨ç½²</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> enriikke/gatsby<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>action@v2\n        <span class=\"token comment\"># æŒ‡å®šä¼ é€’ç»™è¯¥ Action çš„å‚æ•°</span>\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token comment\"># ä½¿ç”¨çš„è®¿é—®æƒé™å£ä»¤</span>\n          <span class=\"token key atrule\">access-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token comment\"># å¾…éƒ¨ç½²çš„åˆ†æ”¯å</span>\n          <span class=\"token key atrule\">deploy-branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages</code></pre></div>\n<p>å¦‚æœæ˜¯åœ¨ç½‘é¡µä¸Šè¿›è¡Œçš„å·¥ä½œæµçš„åˆ›å»º, ä¿å­˜ (æäº¤æˆ–åˆå¹¶åˆ° <code class=\"language-text\">main</code> åˆ†æ”¯) ä¹‹å, å°†ä¼šè§¦å‘è¯¥å·¥ä½œæµ. å¦‚æœæ˜¯åœ¨æœ¬åœ°ç¼–è¾‘åæ¨é€åˆ°è¿œç«¯ä»“åº“åº”å½“åŒç†.</p>\n<h3>éƒ¨ç½²åˆ° GitHub Pages</h3>\n<p>è¯¥å·¥ä½œæµå°†ä¼šåœ¨æ„å»ºå®Œæˆå, å°†ç»“æœè¾“å‡ºåˆ° <code class=\"language-text\">gh-pages</code> åˆ†æ”¯. ç­‰å¾…æ‰§è¡Œå®Œæ¯•å, å¯ä»¥åœ¨ä»“åº“çš„ <code class=\"language-text\">gh-pages</code> åˆ†æ”¯ä¸‹æŸ¥çœ‹åˆ°å¯¹åº”çš„ç»“æœ.</p>\n<p>åŒæ—¶éœ€è¦è¿›å…¥ä»“åº“è®¾ç½®é¡µçš„ \"Pages\" ä¸‹, ç¡®ä¿å°†å‘å¸ƒæºè®¾ç½®ä¸ºå·¥ä½œæµå°†æ„å»ºäº§ç‰©æ‰€éƒ¨ç½²åˆ°çš„ <code class=\"language-text\">gh-pages</code> åˆ†æ”¯.</p>\n<p>GitHub é»˜è®¤ä½¿ç”¨ Jekyll æ ¹æ®æŒ‡å®šçš„å‘å¸ƒæºè¿›è¡Œæ„å»º. å› æ­¤, ç”¨æˆ·è‡ªå®šä¹‰çš„é¡µé¢æ„å»º CI é€šå¸¸ä¼šå°†å†…å®¹å‘å¸ƒåœ¨ <code class=\"language-text\">gh-pages</code> åˆ†æ”¯ä¸Š, å¹¶åœ¨æ ¹ç›®å½•ä¸‹å†™å…¥ä¸€ä¸ª <code class=\"language-text\">.nojekyll</code> æ–‡ä»¶, ä»¥ä¾¿ GitHub ä¸å†å¯¹è¿™äº›å†…å®¹è¿›è¡Œå¤„ç†; ä¹‹å, GitHub ä¼šå°†åˆ†æ”¯ä¸Šçš„å†…å®¹æ‰“åŒ…, å®Œæˆ <strong>æœ€ç»ˆ</strong> çš„éƒ¨ç½². è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä»“åº“çš„ Actions é¡µé¢å®é™…ä¸Šä¼šå¤šå‡ºæ¥ä¸€ä¸ªåä¸º \"pages build and deployment\" çš„ workflow çš„åŸå› .</p>\n<p>å¯ä»¥å‚è€ƒ <a href=\"https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site\" title=\"Configuring a publishing source for your GitHub Pages site - GitHub Docs\">é…ç½® GitHub Pages ç«™ç‚¹çš„å‘å¸ƒæº</a>.</p>\n<h3>éƒ¨ç½²åˆ°å­ç›®å½•ä¸‹</h3>\n<p>éœ€è¦æ³¨æ„, å¦‚æœæ˜¯éƒ¨ç½²åœ¨åŸŸåçš„å­ç›®å½•ä¸‹ (ä¹Ÿå°±æ˜¯è´¦æˆ·ä¸‹ä»“åº“å¼€å¯ GitHub Pages åæ‰€å¯¹åº”çš„é¡µé¢åœ°å€), åˆ™éœ€è¦è¿›è¡Œç›¸åº”çš„é…ç½®.</p>\n<p>é¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•çš„ <code class=\"language-text\">gatsby-config.js</code> ä¸­æ·»åŠ å¦‚ä¸‹çš„é…ç½® (å³æŒ‡å®šè·¯å¾„å‰ç¼€):</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">pathPrefix</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/reponame\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å¹¶åœ¨è°ƒç”¨ <a href=\"https://github.com/enriikke/gatsby-gh-pages-action\" title=\"Gatsby Publish: GitHub Action to build and deploy your Gatsby site to GitHub Pages â¤ï¸ğŸ©\">enriikke/gatsby-gh-pages-action</a> æ—¶, é€‰æ‹©ä¼ é€’ <code class=\"language-text\">--prefix-paths</code> å‚æ•°ç»™ Gatsby.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Build &amp; Publish\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> main <span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> enriikke/gatsby<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>action@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">access-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">deploy-branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\n<span class=\"gatsby-highlight-code-line\">          <span class=\"token key atrule\">gatsby-args</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>prefix<span class=\"token punctuation\">-</span>paths</span></code></pre></div>","frontmatter":{"title":"Hello, Gatsby!","date":"May 23, 2022","description":"åŒ…å«ä¸€äº› Gatsby çš„é…ç½®è®°å½•."}},"previous":{"fields":{"slug":"/working-with-wsl-2/"},"frontmatter":{"title":"ä½¿ç”¨ WSL 2 è¿›è¡Œå·¥ä½œ"}},"next":null},"pageContext":{"id":"fe3b1427-a238-56b2-b493-8fb5d8d2ccb2","previousPostId":"4fbac9c9-ef8f-502e-8202-07507e118389","nextPostId":null}},"staticQueryHashes":["2841359383","4049601996"]}